{
  "info": {
    "name": "BookStore API",
    "_postman_id": "bookstore-collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Add x-api-key automatically if apiKey variable is set",
          "if (pm.variables.get('apiKey')) {",
          "  pm.request.headers.add({ key: 'x-api-key', value: pm.variables.get('apiKey') });",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "Books",
      "item": [
        {
          "name": "GET /books",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{base}}/books", "host": ["{{base}}"], "path": ["books"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', ()=> pm.response.code===200);"]}}]
        },
        {
          "name": "GET /books/:id",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{base}}/books/1", "host": ["{{base}}"], "path": ["books","1"] } }
        },
        {
          "name": "POST /books",
          "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "body": { "mode": "raw", "raw": "{\n  \"title\":\"Postman Book\",\n  \"author_id\":1,\n  \"isbn\":\"PM-1234\",\n  \"price\":5.99,\n  \"published_date\":\"2025-01-01\"\n}" }, "url": { "raw": "{{base}}/books", "host": ["{{base}}"], "path": ["books"] } }
        },
        {
          "name": "PUT /books/:id",
          "request": { "method": "PUT", "header": [{"key":"Content-Type","value":"application/json"}], "body": { "mode": "raw", "raw": "{\n  \"title\":\"Updated Book\",\n  \"author_id\":1,\n  \"isbn\":\"PUT-1\",\n  \"price\":10.99,\n  \"published_date\":\"2020-01-01\"\n}" }, "url": { "raw": "{{base}}/books/1", "host": ["{{base}}"], "path": ["books","1"] } }
        },
        {
          "name": "PATCH /books/:id",
          "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/json"}], "body": { "mode": "raw", "raw": "{\n  \"price\":1.11\n}" }, "url": { "raw": "{{base}}/books/1", "host": ["{{base}}"], "path": ["books","1"] } }
        },
        {
          "name": "DELETE /books/:id",
          "request": { "method": "DELETE", "header": [], "url": { "raw": "{{base}}/books/1", "host": ["{{base}}"], "path": ["books","1"] } }
        }
      ]
    },
    {
      "name": "Authors",
      "item": [
        { "name":"GET /authors", "request": { "method":"GET", "url": { "raw":"{{base}}/authors", "host":["{{base}}"], "path":["authors"] } } },
        { "name":"GET /authors/:id", "request": { "method":"GET", "url": { "raw":"{{base}}/authors/1", "host":["{{base}}"], "path":["authors","1"] } } },
        { "name":"POST /authors", "request": { "method":"POST", "header":[{"key":"Content-Type","value":"application/json"}], "body":{"mode":"raw","raw":"{\n  \"name\":\"Author From Postman\",\n  \"bio\":\"Bio\"\n}"}, "url": { "raw":"{{base}}/authors", "host":["{{base}}"], "path":["authors"] } } },
        { "name":"PUT /authors/:id", "request": { "method":"PUT", "header":[{"key":"Content-Type","value":"application/json"}], "body":{"mode":"raw","raw":"{\n  \"name\":\"Replaced Author\",\n  \"bio\":\"Bio\"\n}"}, "url": { "raw":"{{base}}/authors/1", "host":["{{base}}"], "path":["authors","1"] } } },
        { "name":"PATCH /authors/:id", "request": { "method":"PATCH", "header":[{"key":"Content-Type","value":"application/json"}], "body":{"mode":"raw","raw":"{\n  \"bio\":\"Patched\"\n}"}, "url": { "raw":"{{base}}/authors/1", "host":["{{base}}"], "path":["authors","1"] } } },
        { "name":"DELETE /authors/:id", "request": { "method":"DELETE", "url": { "raw":"{{base}}/authors/1", "host":["{{base}}"], "path":["authors","1"] } } }
      ]
    },
    {
      "name": "Orders",
      "item": [
        { "name":"GET /orders", "request": { "method":"GET", "url": { "raw":"{{base}}/orders", "host":["{{base}}"], "path":["orders"] } } },
        { "name":"GET /orders/:id", "request": { "method":"GET", "url": { "raw":"{{base}}/orders/1", "host":["{{base}}"], "path":["orders","1"] } } },
        { "name":"POST /orders", "request": { "method":"POST", "header":[{"key":"Content-Type","value":"application/json"}], "body":{"mode":"raw","raw":"{\n  \"book_id\":1,\n  \"quantity\":1,\n  \"total_price\":9.99,\n  \"customer_name\":\"PM User\"\n}"}, "url": { "raw":"{{base}}/orders", "host":["{{base}}"], "path":["orders"] } } },
        { "name":"PUT /orders/:id", "request": { "method":"PUT", "header":[{"key":"Content-Type","value":"application/json"}], "body":{"mode":"raw","raw":"{\n  \"book_id\":1,\n  \"quantity\":2,\n  \"total_price\":19.98,\n  \"customer_name\":\"Replaced\"\n}"}, "url": { "raw":"{{base}}/orders/1", "host":["{{base}}"], "path":["orders","1"] } } },
        { "name":"PATCH /orders/:id", "request": { "method":"PATCH", "header":[{"key":"Content-Type","value":"application/json"}], "body":{"mode":"raw","raw":"{\n  \"quantity\":3\n}"}, "url": { "raw":"{{base}}/orders/1", "host":["{{base}}"], "path":["orders","1"] } } },
        { "name":"DELETE /orders/:id", "request": { "method":"DELETE", "url": { "raw":"{{base}}/orders/1", "host":["{{base}}"], "path":["orders","1"] } } }
      ]
    }
  ],
  "variable": [
    { "key": "base", "value": "http://localhost:4000/api" },
    { "key": "apiKey", "value": "" }
  ]
}
